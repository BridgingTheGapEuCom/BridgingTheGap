<template>
  <div
    tabindex="0"
    aria-label="Diagram showing two rounded rectangles labeled 'System A' on the left and 'System B' on the right. 'System A' has a 'D' above it, with a dashed arrow pointing down from the text 'Downstream (consumer)' above it to the 'D.' 'System A' is connected by a solid line to a connector symbol resembling parentheses enclosing a dashed line ending in an open circle. A solid line connects this connector symbol to 'System B,' which has a 'U' above it, with a dashed arrow pointing down from the text 'Upstream (provider)' above it to the 'U'"
    role="img"
    class="syncSvgParent w-full"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      style="color-scheme: light dark"
      version="1.1"
      width="362px"
      height="141px"
      viewBox="-0.5 -0.5 362 141"
    >
      <defs />
      <g>
        <g>
          <g>
            <g>
              <g class="line">
                <g>
                  <path
                    d="M 100 99.76 L 152 99.76"
                    stroke-miterlimit="10"
                    pointer-events="stroke"
                    class="line"
                  />
                  <path
                    d="M 160 107.76 Q 152 107.76 152 99.76 Q 152 91.76 160 91.76"
                    stroke-miterlimit="10"
                    pointer-events="all"
                    class="line"
                  />
                </g>
              </g>
            </g>
            <g>
              <g class="line">
                <g>
                  <path
                    d="M 240 100 L 205 100"
                    stroke-miterlimit="10"
                    pointer-events="stroke"
                    class="line"
                  />
                  <ellipse
                    cx="200"
                    cy="100"
                    rx="5"
                    ry="5"
                    pointer-events="all"
                    class="line"
                  />
                </g>
              </g>
            </g>
            <g>
              <g>
                <g>
                  <ellipse
                    cx="180"
                    cy="100"
                    rx="5"
                    ry="5"
                    fill="none"
                    stroke="none"
                    pointer-events="all"
                  />
                </g>
              </g>
            </g>
            <g>
              <g class="blackText">
                <g>
                  <rect
                    x="0"
                    y="60"
                    width="120"
                    height="80"
                    rx="12"
                    ry="12"
                    fill="#cccccc"
                    stroke="#000000"
                    pointer-events="all"
                    class="blackText"
                  />
                </g>
                <g>
                  <g
                    transform="translate(-0.5 -0.5)"
                    class="blackText"
                  >
                    <switch>
                      <foreignObject
                        style="overflow: visible; text-align: left"
                        pointer-events="none"
                        width="100%"
                        height="100%"
                        requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                        class="blackText"
                      >
                        <div
                          xmlns="http://www.w3.org/1999/xhtml"
                          style="
                            display: flex;
                            align-items: unsafe center;
                            justify-content: unsafe center;
                            width: 118px;
                            height: 1px;
                            padding-top: 100px;
                            margin-left: 1px;
                          "
                          class="blackText"
                        >
                          <div
                            style="box-sizing: border-box; font-size: 0; text-align: center"
                            class="blackText"
                          >
                            <div
                              style="
                                display: inline-block;
                                font-size: 12px;
                                line-height: 1.2;
                                pointer-events: all;
                                white-space: normal;
                                word-wrap: normal;
                              "
                              class="blackText"
                            >
                              System A
                            </div>
                          </div>
                        </div>
                      </foreignObject>
                      <text
                        x="60"
                        y="104"
                        font-size="12px"
                        text-anchor="middle"
                        class="blackText"
                      >
                        System A
                      </text>
                    </switch>
                  </g>
                </g>
              </g>
            </g>
            <g>
              <g class="blackText">
                <g>
                  <rect
                    x="240"
                    y="60"
                    width="120"
                    height="80"
                    rx="12"
                    ry="12"
                    fill="#cccccc"
                    stroke="#000000"
                    pointer-events="all"
                    class="blackText"
                  />
                </g>
                <g>
                  <g
                    transform="translate(-0.5 -0.5)"
                    class="blackText"
                  >
                    <switch>
                      <foreignObject
                        style="overflow: visible; text-align: left"
                        pointer-events="none"
                        width="100%"
                        height="100%"
                        requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                        class="blackText"
                      >
                        <div
                          xmlns="http://www.w3.org/1999/xhtml"
                          style="
                            display: flex;
                            align-items: unsafe center;
                            justify-content: unsafe center;
                            width: 118px;
                            height: 1px;
                            padding-top: 100px;
                            margin-left: 241px;
                          "
                          class="blackText"
                        >
                          <div
                            style="box-sizing: border-box; font-size: 0; text-align: center"
                            class="blackText"
                          >
                            <div
                              style="
                                display: inline-block;
                                font-size: 12px;
                                line-height: 1.2;
                                pointer-events: all;
                                white-space: normal;
                                word-wrap: normal;
                              "
                              class="blackText"
                            >
                              System B
                            </div>
                          </div>
                        </div>
                      </foreignObject>
                      <text
                        x="300"
                        y="104"
                        font-size="12px"
                        text-anchor="middle"
                        class="blackText"
                      >
                        System B
                      </text>
                    </switch>
                  </g>
                </g>
              </g>
            </g>
            <g>
              <g class="line">
                <g>
                  <path
                    d="M 110 40 L 110 57.76"
                    stroke-miterlimit="10"
                    stroke-dasharray="3 3"
                    pointer-events="stroke"
                    class="line"
                  />
                  <path
                    d="M 106.5 51.88 L 110 58.88 L 113.5 51.88"
                    stroke-miterlimit="10"
                    pointer-events="all"
                    class="line"
                  />
                </g>
              </g>
            </g>
            <g>
              <g>
                <g>
                  <rect
                    x="70"
                    y="0"
                    width="80"
                    height="40"
                    fill="none"
                    stroke="none"
                    pointer-events="all"
                  />
                </g>
                <g>
                  <g transform="translate(-0.5 -0.5)">
                    <switch>
                      <foreignObject
                        style="overflow: visible; text-align: left"
                        pointer-events="none"
                        width="100%"
                        height="100%"
                        requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                      >
                        <div
                          xmlns="http://www.w3.org/1999/xhtml"
                          style="
                            display: flex;
                            align-items: unsafe center;
                            justify-content: unsafe center;
                            width: 78px;
                            height: 1px;
                            padding-top: 20px;
                            margin-left: 71px;
                          "
                        >
                          <div style="box-sizing: border-box; font-size: 0; text-align: center">
                            <div
                              style="
                                display: inline-block;
                                font-size: 12px;
                                line-height: 1.2;
                                pointer-events: all;
                                white-space: normal;
                                word-wrap: normal;
                              "
                            >
                              Downstream (consumer)
                            </div>
                          </div>
                        </div>
                      </foreignObject>
                      <text
                        x="110"
                        y="24"
                        fill="light-dark(#000000, #ffffff)"
                        font-size="12px"
                        text-anchor="middle"
                      >
                        Downstream (c...
                      </text>
                    </switch>
                  </g>
                </g>
              </g>
            </g>
            <g>
              <g class="line">
                <g>
                  <path
                    d="M 250 40 L 250 57.76"
                    stroke-miterlimit="10"
                    stroke-dasharray="3 3"
                    pointer-events="stroke"
                    class="line"
                  />
                  <path
                    d="M 246.5 51.88 L 250 58.88 L 253.5 51.88"
                    stroke-miterlimit="10"
                    pointer-events="all"
                    class="line"
                  />
                </g>
              </g>
            </g>
            <g>
              <g>
                <g>
                  <rect
                    x="210"
                    y="0"
                    width="80"
                    height="40"
                    fill="none"
                    stroke="none"
                    pointer-events="all"
                  />
                </g>
                <g>
                  <g transform="translate(-0.5 -0.5)">
                    <switch>
                      <foreignObject
                        style="overflow: visible; text-align: left"
                        pointer-events="none"
                        width="100%"
                        height="100%"
                        requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                      >
                        <div
                          xmlns="http://www.w3.org/1999/xhtml"
                          style="
                            display: flex;
                            align-items: unsafe center;
                            justify-content: unsafe center;
                            width: 78px;
                            height: 1px;
                            padding-top: 20px;
                            margin-left: 211px;
                          "
                        >
                          <div style="box-sizing: border-box; font-size: 0; text-align: center">
                            <div
                              style="
                                display: inline-block;
                                font-size: 12px;
                                line-height: 1.2;
                                pointer-events: all;
                                white-space: normal;
                                word-wrap: normal;
                              "
                            >
                              Upstream (provider)
                            </div>
                          </div>
                        </div>
                      </foreignObject>
                      <text
                        x="250"
                        y="24"
                        fill="light-dark(#000000, #ffffff)"
                        font-size="12px"
                        text-anchor="middle"
                      >
                        Upstream (pro...
                      </text>
                    </switch>
                  </g>
                </g>
              </g>
            </g>
            <g>
              <g class="line">
                <g>
                  <path
                    d="M 160 100 L 192.76 100"
                    stroke-miterlimit="10"
                    stroke-dasharray="3 3"
                    pointer-events="stroke"
                    class="line"
                  />
                  <path
                    d="M 186.88 103.5 L 193.88 100 L 186.88 96.5"
                    stroke-miterlimit="10"
                    pointer-events="all"
                    class="line"
                  />
                </g>
              </g>
            </g>
            <g>
              <g class="blackText">
                <g>
                  <rect
                    x="100"
                    y="60"
                    width="20"
                    height="30"
                    fill="transparent"
                    pointer-events="all"
                    class="blackText"
                  />
                </g>
                <g>
                  <g
                    transform="translate(-0.5 -0.5)"
                    class="blackText"
                  >
                    <switch>
                      <foreignObject
                        style="overflow: visible; text-align: left"
                        pointer-events="none"
                        width="100%"
                        height="100%"
                        requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                        class="blackText"
                      >
                        <div
                          xmlns="http://www.w3.org/1999/xhtml"
                          style="
                            display: flex;
                            align-items: unsafe center;
                            justify-content: unsafe center;
                            width: 18px;
                            height: 1px;
                            padding-top: 75px;
                            margin-left: 101px;
                          "
                          class="blackText"
                        >
                          <div
                            style="box-sizing: border-box; font-size: 0; text-align: center"
                            class="blackText"
                          >
                            <div
                              style="
                                display: inline-block;
                                font-size: 12px;
                                line-height: 1.2;
                                pointer-events: all;
                                white-space: normal;
                                word-wrap: normal;
                              "
                              class="blackText"
                            >
                              D
                            </div>
                          </div>
                        </div>
                      </foreignObject>
                      <text
                        x="110"
                        y="79"
                        font-size="12px"
                        text-anchor="middle"
                        class="blackText"
                      >
                        D
                      </text>
                    </switch>
                  </g>
                </g>
              </g>
            </g>
            <g>
              <g class="blackText">
                <g>
                  <rect
                    x="240"
                    y="60"
                    width="20"
                    height="30"
                    fill="transparent"
                    pointer-events="all"
                    class="blackText"
                  />
                </g>
                <g>
                  <g
                    transform="translate(-0.5 -0.5)"
                    class="blackText"
                  >
                    <switch>
                      <foreignObject
                        style="overflow: visible; text-align: left"
                        pointer-events="none"
                        width="100%"
                        height="100%"
                        requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                        class="blackText"
                      >
                        <div
                          xmlns="http://www.w3.org/1999/xhtml"
                          style="
                            display: flex;
                            align-items: unsafe center;
                            justify-content: unsafe center;
                            width: 18px;
                            height: 1px;
                            padding-top: 75px;
                            margin-left: 241px;
                          "
                          class="blackText"
                        >
                          <div
                            style="box-sizing: border-box; font-size: 0; text-align: center"
                            class="blackText"
                          >
                            <div
                              style="
                                display: inline-block;
                                font-size: 12px;
                                line-height: 1.2;
                                pointer-events: all;
                                white-space: normal;
                                word-wrap: normal;
                              "
                              class="blackText"
                            >
                              U
                            </div>
                          </div>
                        </div>
                      </foreignObject>
                      <text
                        x="250"
                        y="79"
                        font-size="12px"
                        text-anchor="middle"
                        class="blackText"
                      >
                        U
                      </text>
                    </switch>
                  </g>
                </g>
              </g>
            </g>
          </g>
        </g>
      </g>
    </svg>
  </div>
</template>

<style scoped lang="scss">
.syncSvgParent {
  transition: var(--diagramColorTransition);
}

.line {
  stroke: var(--tw-color-black);
  transition: var(--diagramColorTransition);
  fill: none;

  .dark > * & {
    stroke: var(--tw-color-white);
  }
}
.blackText {
  color: var(--tw-color-black);

  .dark > * & {
    color: var(--tw-color-black);
  }
}
</style>
