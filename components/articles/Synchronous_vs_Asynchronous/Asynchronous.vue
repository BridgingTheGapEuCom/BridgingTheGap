<template>
  <div
    tabindex="0"
    aria-label=""
    role="img"
    class="syncSvgParent"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      style="color-scheme: light dark"
      width="522px"
      height="282px"
      viewBox="-0.5 -0.5 522 282"
    >
      <g>
        <g>
          <g>
            <g>
              <g>
                <g>
                  <path
                    d="M 60 60 L 60 280"
                    fill="none"
                    stroke="#6b7280"
                    stroke-miterlimit="10"
                    stroke-dasharray="3 3"
                    pointer-events="stroke"
                  />
                </g>
              </g>
            </g>
            <g>
              <g class="sequenceDiagram_actor">
                <g>
                  <rect
                    x="0"
                    y="0"
                    width="120"
                    height="60"
                    rx="9"
                    ry="9"
                    pointer-events="all"
                    class="sequenceDiagram_actor"
                  />
                </g>
                <g>
                  <g
                    transform="translate(-0.5 -0.5)"
                    class="sequenceDiagram_actor"
                  >
                    <switch>
                      <foreignObject
                        style="overflow: visible; text-align: left"
                        pointer-events="none"
                        width="100%"
                        height="100%"
                        requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                        class="sequenceDiagram_actor"
                      >
                        <div
                          xmlns="http://www.w3.org/1999/xhtml"
                          style="
                            display: flex;
                            align-items: unsafe center;
                            justify-content: unsafe center;
                            width: 118px;
                            height: 1px;
                            padding-top: 30px;
                            margin-left: 1px;
                          "
                          class="sequenceDiagram_actor"
                        >
                          <div
                            style="box-sizing: border-box; font-size: 0; text-align: center"
                            class="sequenceDiagram_actor"
                          >
                            <div
                              style="
                                display: inline-block;
                                font-size: 12px;
                                line-height: 1.2;
                                pointer-events: all;
                                white-space: normal;
                                word-wrap: normal;
                              "
                              class="sequenceDiagram_actor"
                            >
                              App 1
                            </div>
                          </div>
                        </div>
                      </foreignObject>
                      <text
                        x="60"
                        y="34"
                        font-size="12px"
                        text-anchor="middle"
                        class="sequenceDiagram_actor"
                      >
                        App 1
                      </text>
                    </switch>
                  </g>
                </g>
              </g>
            </g>
            <g>
              <g>
                <g>
                  <rect
                    x="95"
                    y="5"
                    width="16.11"
                    height="14.5"
                    fill="none"
                    stroke="none"
                    pointer-events="all"
                  />
                  <path
                    d="M 95.75 16.46 C 95.54 16.44 95.34 16.33 95.2 16.17 C 95.06 16.01 95 15.8 95.02 15.59 L 95.02 5.81 C 95.06 5.4 95.37 5.08 95.78 5.02 L 110.19 5.02 C 110.66 5 111.07 5.35 111.11 5.81 L 111.09 15.75 C 111 16.16 110.63 16.47 110.19 16.49 L 105.14 16.49 L 104.91 17.39 C 104.86 17.59 104.89 17.81 105.01 17.99 C 105.13 18.18 105.31 18.3 105.53 18.35 C 106.02 18.51 106.53 18.58 107.05 18.55 L 107.99 18.55 L 107.99 19.5 L 97.48 19.5 L 97.48 18.55 L 98.6 18.55 C 99.18 18.56 99.76 18.46 100.31 18.27 C 100.75 18.17 101.02 17.75 100.91 17.32 L 100.77 16.49 Z M 96.22 15.32 L 109.86 15.32 L 109.86 6.23 L 96.22 6.23 Z"
                    fill="#000000"
                    stroke="none"
                    pointer-events="all"
                  />
                </g>
              </g>
            </g>
            <g>
              <g>
                <g>
                  <path
                    d="M 255 150 L 255 280"
                    fill="none"
                    stroke="#6b7280"
                    stroke-miterlimit="10"
                    stroke-dasharray="3 3"
                    pointer-events="stroke"
                  />
                </g>
              </g>
            </g>
            <g>
              <g class="sequenceDiagram_actor">
                <g>
                  <rect
                    x="195"
                    y="0"
                    width="120"
                    height="60"
                    rx="9"
                    ry="9"
                    pointer-events="all"
                    class="sequenceDiagram_actor"
                  />
                </g>
                <g>
                  <g
                    transform="translate(-0.5 -0.5)"
                    class="sequenceDiagram_actor"
                  >
                    <switch>
                      <foreignObject
                        style="overflow: visible; text-align: left"
                        pointer-events="none"
                        width="100%"
                        height="100%"
                        requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                        class="sequenceDiagram_actor"
                      >
                        <div
                          xmlns="http://www.w3.org/1999/xhtml"
                          style="
                            display: flex;
                            align-items: unsafe center;
                            justify-content: unsafe center;
                            width: 118px;
                            height: 1px;
                            padding-top: 30px;
                            margin-left: 196px;
                          "
                          class="sequenceDiagram_actor"
                        >
                          <div
                            style="box-sizing: border-box; font-size: 0; text-align: center"
                            class="sequenceDiagram_actor"
                          >
                            <div
                              style="
                                display: inline-block;
                                font-size: 12px;
                                line-height: 1.2;
                                pointer-events: all;
                                white-space: normal;
                                word-wrap: normal;
                              "
                              class="sequenceDiagram_actor"
                            >
                              Message Broker
                            </div>
                          </div>
                        </div>
                      </foreignObject>
                      <text
                        x="255"
                        y="34"
                        font-size="12px"
                        text-anchor="middle"
                        class="sequenceDiagram_actor"
                      >
                        Message Broker
                      </text>
                    </switch>
                  </g>
                </g>
              </g>
            </g>
            <g>
              <g>
                <g>
                  <path
                    d="M 460 60 L 460 280"
                    fill="none"
                    stroke="#6b7280"
                    stroke-miterlimit="10"
                    stroke-dasharray="3 3"
                    pointer-events="stroke"
                  />
                </g>
              </g>
            </g>
            <g>
              <g class="sequenceDiagram_actor">
                <g>
                  <rect
                    x="400"
                    y="0"
                    width="120"
                    height="60"
                    rx="9"
                    ry="9"
                    pointer-events="all"
                    class="sequenceDiagram_actor"
                  />
                </g>
                <g>
                  <g
                    transform="translate(-0.5 -0.5)"
                    class="sequenceDiagram_actor"
                  >
                    <switch>
                      <foreignObject
                        style="overflow: visible; text-align: left"
                        pointer-events="none"
                        width="100%"
                        height="100%"
                        requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                        class="sequenceDiagram_actor"
                      >
                        <div
                          xmlns="http://www.w3.org/1999/xhtml"
                          style="
                            display: flex;
                            align-items: unsafe center;
                            justify-content: unsafe center;
                            width: 118px;
                            height: 1px;
                            padding-top: 30px;
                            margin-left: 401px;
                          "
                          class="sequenceDiagram_actor"
                        >
                          <div
                            style="box-sizing: border-box; font-size: 0; text-align: center"
                            class="sequenceDiagram_actor"
                          >
                            <div
                              style="
                                display: inline-block;
                                font-size: 12px;
                                line-height: 1.2;
                                pointer-events: all;
                                white-space: normal;
                                word-wrap: normal;
                              "
                              class="sequenceDiagram_actor"
                            >
                              App 2
                            </div>
                          </div>
                        </div>
                      </foreignObject>
                      <text
                        x="460"
                        y="34"
                        font-size="12px"
                        text-anchor="middle"
                        class="sequenceDiagram_actor"
                      >
                        App 2
                      </text>
                    </switch>
                  </g>
                </g>
              </g>
            </g>
            <g>
              <g>
                <g>
                  <rect
                    x="495"
                    y="5"
                    width="16.11"
                    height="14.5"
                    fill="none"
                    stroke="none"
                    pointer-events="all"
                  />
                  <path
                    d="M 495.75 16.46 C 495.54 16.44 495.34 16.33 495.2 16.17 C 495.06 16.01 495 15.8 495.02 15.59 L 495.02 5.81 C 495.06 5.4 495.37 5.08 495.78 5.02 L 510.19 5.02 C 510.66 5 511.07 5.35 511.11 5.81 L 511.09 15.75 C 511 16.16 510.63 16.47 510.19 16.49 L 505.14 16.49 L 504.91 17.39 C 504.86 17.59 504.89 17.81 505.01 17.99 C 505.13 18.18 505.31 18.3 505.53 18.35 C 506.02 18.51 506.53 18.58 507.05 18.55 L 507.99 18.55 L 507.99 19.5 L 497.48 19.5 L 497.48 18.55 L 498.6 18.55 C 499.18 18.56 499.76 18.46 500.31 18.27 C 500.75 18.17 501.02 17.75 500.91 17.32 L 500.77 16.49 Z M 496.22 15.32 L 509.86 15.32 L 509.86 6.23 L 496.22 6.23 Z"
                    fill="#000000"
                    stroke="none"
                    pointer-events="all"
                  />
                </g>
              </g>
            </g>
            <g>
              <g class="line">
                <g>
                  <path
                    d="M 65.27 125.02 L 247.67 124.86"
                    stroke-miterlimit="10"
                    pointer-events="stroke"
                    class="line"
                  />
                  <path
                    d="M 241.8 128.37 L 248.79 124.86 L 241.79 121.37"
                    stroke-miterlimit="10"
                    pointer-events="all"
                    class="line"
                  />
                </g>
              </g>
            </g>
            <g>
              <g class="sequenceDiagram_action">
                <g>
                  <rect
                    x="55"
                    y="100"
                    width="10"
                    height="30"
                    rx="1.5"
                    ry="1.5"
                    pointer-events="all"
                    class="sequenceDiagram_action"
                  />
                </g>
              </g>
            </g>
            <g>
              <g>
                <g>
                  <path
                    d="M 255 60 L 255 120"
                    fill="none"
                    stroke="#6b7280"
                    stroke-miterlimit="10"
                    stroke-dasharray="3 3"
                    pointer-events="stroke"
                  />
                </g>
              </g>
            </g>
            <g>
              <g class="line">
                <g>
                  <path
                    d="M 260.2 145.17 L 452.68 144.96"
                    stroke-miterlimit="10"
                    pointer-events="stroke"
                    class="line"
                  />
                  <path
                    d="M 446.81 148.47 L 453.8 144.96 L 446.8 141.47"
                    stroke-miterlimit="10"
                    pointer-events="all"
                    class="line"
                  />
                </g>
              </g>
            </g>
            <g>
              <g class="sequenceDiagram_action">
                <g>
                  <rect
                    x="250"
                    y="120"
                    width="10"
                    height="30"
                    rx="1.5"
                    ry="1.5"
                    pointer-events="all"
                    class="sequenceDiagram_action"
                  />
                </g>
              </g>
            </g>
            <g>
              <g class="textWithBackground">
                <g>
                  <rect
                    x="145"
                    y="100"
                    width="30"
                    height="30"
                    pointer-events="all"
                    class="textWithBackground"
                  />
                </g>
                <g>
                  <g
                    transform="translate(-0.5 -0.5)"
                    class="textWithBackground"
                  >
                    <switch>
                      <foreignObject
                        style="overflow: visible; text-align: left"
                        pointer-events="none"
                        width="100%"
                        height="100%"
                        requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                        class="textWithBackground"
                      >
                        <div
                          xmlns="http://www.w3.org/1999/xhtml"
                          style="
                            display: flex;
                            align-items: unsafe center;
                            justify-content: unsafe center;
                            width: 28px;
                            height: 1px;
                            padding-top: 115px;
                            margin-left: 146px;
                          "
                          class="textWithBackground"
                        >
                          <div
                            style="box-sizing: border-box; font-size: 0; text-align: center"
                            class="textWithBackground"
                          >
                            <div
                              style="
                                display: inline-block;
                                font-size: 12px;
                                line-height: 1.2;
                                pointer-events: all;
                                white-space: normal;
                                word-wrap: normal;
                              "
                              class="textWithBackground"
                            >
                              call()
                            </div>
                          </div>
                        </div>
                      </foreignObject>
                      <text
                        x="160"
                        y="119"
                        font-size="12px"
                        text-anchor="middle"
                        class="textWithBackground"
                      >
                        call()
                      </text>
                    </switch>
                  </g>
                </g>
              </g>
            </g>
            <g>
              <g class="line">
                <g>
                  <path
                    d="M 454.97 174.92 L 262.83 175.04"
                    stroke-miterlimit="10"
                    pointer-events="stroke"
                    class="line"
                  />
                  <path
                    d="M 268.71 171.53 L 261.71 175.04 L 268.71 178.53"
                    stroke-miterlimit="10"
                    pointer-events="all"
                    class="line"
                  />
                </g>
              </g>
            </g>
            <g>
              <g class="sequenceDiagram_action">
                <g>
                  <rect
                    x="455"
                    y="140"
                    width="10"
                    height="40"
                    rx="1.5"
                    ry="1.5"
                    pointer-events="all"
                    class="sequenceDiagram_action"
                  />
                </g>
              </g>
            </g>
            <g>
              <g class="textWithBackground">
                <g>
                  <rect
                    x="343.5"
                    y="120"
                    width="30"
                    height="30"
                    pointer-events="all"
                    class="textWithBackground"
                  />
                </g>
                <g>
                  <g
                    transform="translate(-0.5 -0.5)"
                    class="textWithBackground"
                  >
                    <switch>
                      <foreignObject
                        style="overflow: visible; text-align: left"
                        pointer-events="none"
                        width="100%"
                        height="100%"
                        requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                        class="textWithBackground"
                      >
                        <div
                          xmlns="http://www.w3.org/1999/xhtml"
                          style="
                            display: flex;
                            align-items: unsafe center;
                            justify-content: unsafe center;
                            width: 28px;
                            height: 1px;
                            padding-top: 135px;
                            margin-left: 345px;
                          "
                          class="textWithBackground"
                        >
                          <div
                            style="box-sizing: border-box; font-size: 0; text-align: center"
                            class="textWithBackground"
                          >
                            <div
                              style="
                                display: inline-block;
                                font-size: 12px;
                                line-height: 1.2;
                                pointer-events: all;
                                white-space: normal;
                                word-wrap: normal;
                              "
                              class="textWithBackground"
                            >
                              read()
                            </div>
                          </div>
                        </div>
                      </foreignObject>
                      <text
                        x="359"
                        y="139"
                        font-size="12px"
                        text-anchor="middle"
                        class="textWithBackground"
                      >
                        read()
                      </text>
                    </switch>
                  </g>
                </g>
              </g>
            </g>
            <g>
              <g class="line">
                <g>
                  <path
                    d="M 249.98 194.96 L 67.56 195.2"
                    stroke-miterlimit="10"
                    pointer-events="stroke"
                    class="line"
                  />
                  <path
                    d="M 73.43 191.69 L 66.44 195.2 L 73.44 198.69"
                    stroke-miterlimit="10"
                    pointer-events="all"
                    class="line"
                  />
                </g>
              </g>
            </g>
            <g>
              <g class="sequenceDiagram_action">
                <g>
                  <rect
                    x="250"
                    y="170"
                    width="10"
                    height="30"
                    rx="1.5"
                    ry="1.5"
                    pointer-events="all"
                    class="sequenceDiagram_action"
                  />
                </g>
              </g>
            </g>
            <g>
              <g class="textWithBackground">
                <g>
                  <rect
                    x="327.5"
                    y="150"
                    width="62"
                    height="30"
                    pointer-events="all"
                    class="textWithBackground"
                  />
                </g>
                <g>
                  <g
                    transform="translate(-0.5 -0.5)"
                    class="textWithBackground"
                  >
                    <switch>
                      <foreignObject
                        style="overflow: visible; text-align: left"
                        pointer-events="none"
                        width="100%"
                        height="100%"
                        requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                        class="textWithBackground"
                      >
                        <div
                          xmlns="http://www.w3.org/1999/xhtml"
                          style="
                            display: flex;
                            align-items: unsafe center;
                            justify-content: unsafe center;
                            width: 60px;
                            height: 1px;
                            padding-top: 165px;
                            margin-left: 329px;
                          "
                          class="textWithBackground"
                        >
                          <div
                            style="box-sizing: border-box; font-size: 0; text-align: center"
                            class="textWithBackground"
                          >
                            <div
                              style="
                                display: inline-block;
                                font-size: 12px;
                                line-height: 1.2;
                                pointer-events: all;
                                white-space: normal;
                                word-wrap: normal;
                              "
                              class="textWithBackground"
                            >
                              callback()
                            </div>
                          </div>
                        </div>
                      </foreignObject>
                      <text
                        x="359"
                        y="169"
                        font-size="12px"
                        text-anchor="middle"
                        class="textWithBackground"
                      >
                        callback()
                      </text>
                    </switch>
                  </g>
                </g>
              </g>
            </g>
            <g>
              <g class="arrow">
                <g>
                  <path
                    d="M 65.29 204.88 Q 85 205 92.5 205 Q 100 205 100 210 Q 100 215 100 217.5 Q 100 220 100 227.5 Q 100 235 95 235 Q 90 235 78.34 235.09"
                    stroke-miterlimit="10"
                    pointer-events="stroke"
                    class="arrow"
                  />
                  <path
                    d="M 71.34 235.15 L 78.31 231.59 L 78.37 238.59 Z"
                    stroke-miterlimit="10"
                    pointer-events="all"
                    class="arrow"
                  />
                </g>
              </g>
            </g>
            <g>
              <g class="sequenceDiagram_action">
                <g>
                  <rect
                    x="55"
                    y="190"
                    width="10"
                    height="65"
                    rx="1.5"
                    ry="1.5"
                    pointer-events="all"
                    class="sequenceDiagram_action"
                  />
                </g>
              </g>
            </g>
            <g>
              <g class="textWithBackground">
                <g>
                  <rect
                    x="134.5"
                    y="170"
                    width="51"
                    height="30"
                    pointer-events="all"
                    class="textWithBackground"
                  />
                </g>
                <g>
                  <g
                    transform="translate(-0.5 -0.5)"
                    class="textWithBackground"
                  >
                    <switch>
                      <foreignObject
                        style="overflow: visible; text-align: left"
                        pointer-events="none"
                        width="100%"
                        height="100%"
                        requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                        class="textWithBackground"
                      >
                        <div
                          xmlns="http://www.w3.org/1999/xhtml"
                          style="
                            display: flex;
                            align-items: unsafe center;
                            justify-content: unsafe center;
                            width: 49px;
                            height: 1px;
                            padding-top: 185px;
                            margin-left: 135px;
                          "
                          class="textWithBackground"
                        >
                          <div
                            style="box-sizing: border-box; font-size: 0; text-align: center"
                            class="textWithBackground"
                          >
                            <div
                              style="
                                display: inline-block;
                                font-size: 12px;
                                line-height: 1.2;
                                pointer-events: all;
                                white-space: normal;
                                word-wrap: normal;
                              "
                              class="textWithBackground"
                            >
                              read()
                            </div>
                          </div>
                        </div>
                      </foreignObject>
                      <text
                        x="160"
                        y="189"
                        font-size="12px"
                        text-anchor="middle"
                        class="textWithBackground"
                      >
                        read()
                      </text>
                    </switch>
                  </g>
                </g>
              </g>
            </g>
            <g>
              <g class="sequenceDiagram_action">
                <g>
                  <rect
                    x="60"
                    y="215"
                    width="10"
                    height="30"
                    rx="1.5"
                    ry="1.5"
                    pointer-events="all"
                    class="sequenceDiagram_action"
                  />
                </g>
              </g>
            </g>
            <g>
              <g class="textWithBackground">
                <g>
                  <rect
                    x="105"
                    y="205"
                    width="51"
                    height="30"
                    pointer-events="all"
                    class="textWithBackground"
                  />
                </g>
                <g>
                  <g
                    transform="translate(-0.5 -0.5)"
                    class="textWithBackground"
                  >
                    <switch>
                      <foreignObject
                        style="overflow: visible; text-align: left"
                        pointer-events="none"
                        width="100%"
                        height="100%"
                        requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                        class="textWithBackground"
                      >
                        <div
                          xmlns="http://www.w3.org/1999/xhtml"
                          style="
                            display: flex;
                            align-items: unsafe center;
                            justify-content: unsafe center;
                            width: 49px;
                            height: 1px;
                            padding-top: 220px;
                            margin-left: 106px;
                          "
                          class="textWithBackground"
                        >
                          <div
                            style="box-sizing: border-box; font-size: 0; text-align: center"
                            class="textWithBackground"
                          >
                            <div
                              style="
                                display: inline-block;
                                font-size: 12px;
                                line-height: 1.2;
                                pointer-events: all;
                                white-space: normal;
                                word-wrap: normal;
                              "
                              class="textWithBackground"
                            >
                              selfCall()
                            </div>
                          </div>
                        </div>
                      </foreignObject>
                      <text
                        x="131"
                        y="224"
                        font-size="12px"
                        text-anchor="middle"
                        class="textWithBackground"
                      >
                        selfCall...
                      </text>
                    </switch>
                  </g>
                </g>
              </g>
            </g>
            <g>
              <g>
                <g>
                  <path
                    d="M 290 7.13 L 305.38 7.13 L 305.38 17.38 L 290 17.38 Z"
                    fill="none"
                    stroke="#000000"
                    stroke-miterlimit="10"
                    pointer-events="all"
                  />
                  <path
                    d="M 290 7.13 L 297.69 12.25 L 305.38 7.13"
                    fill="none"
                    stroke="#000000"
                    stroke-miterlimit="10"
                    pointer-events="all"
                  />
                </g>
              </g>
            </g>
          </g>
        </g>
      </g>
    </svg>
  </div>
</template>

<style scoped lang="scss">
.syncSvgParent {
  transition: var(--diagramColorTransition);
}

.sequenceDiagram_actor {
  stroke: var(--tw-color-black);
  fill: var(--tw-color-gray-200);

  .dark > * & {
    stroke: var(--tw-color-white);
    fill: var(--tw-color-gray-200);
    color: black;
  }
}
.line {
  stroke: var(--tw-color-black);
  fill: none;

  .dark > * & {
    stroke: var(--tw-color-white);
  }
}
.sequenceDiagram_action {
  stroke: var(--tw-color-black);
  fill: var(--tw-color-gray-400);

  .dark > * & {
    stroke: var(--tw-color-gray-100);
    fill: var(--tw-color-gray-400);
  }
}
.textWithBackground {
  fill: transparent;
}
.textWithBackground > span {
  background-color: var(--color-background);
}
.arrow {
  stroke: var(--tw-color-black);
  fill: none;

  .dark > * & {
    stroke: var(--tw-color-white);
  }
}
.arrow:nth-child(2) {
  fill: var(--tw-color-black);

  .dark > * & {
    fill: var(--tw-color-white);
  }
}
</style>
