<template>
  <div
    tabindex="0"
    aria-label="Illustration of a message broker distributing messages. System A publishes messages to the broker, which are then delivered to System B and System C."
    role="img"
    class="syncSvgParent w-full sm:w-9/12"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      style="background: transparent; background-color: transparent; color-scheme: light dark"
      width="357px"
      height="224px"
      viewBox="-0.5 -0.5 357 224"
    >
      <defs />
      <g>
        <g>
          <g>
            <g>
              <g>
                <g />
              </g>
              <g>
                <g class="messageBrokerBorder">
                  <g>
                    <rect
                      x="100"
                      y="9"
                      width="160"
                      height="200"
                      stroke-dasharray="1 4"
                      pointer-events="all"
                      class="messageBrokerBorder"
                    />
                  </g>
                </g>
              </g>
              <g>
                <g class="messageBackground">
                  <g />
                </g>
                <g>
                  <g class="messageBrokerBackground">
                    <g>
                      <rect
                        x="100"
                        y="9"
                        width="25"
                        height="25"
                        pointer-events="all"
                        class="messageBrokerBackground"
                      />
                    </g>
                  </g>
                </g>
                <g>
                  <g class="messageIcon">
                    <g>
                      <rect
                        x="107.81"
                        y="17.09"
                        width="14.06"
                        height="8.83"
                        pointer-events="all"
                        class="messageIcon"
                      />
                      <path
                        d="M 107.81 17.09 L 114.84 24.31 L 121.88 17.09 M 107.81 25.92 L 112.17 21.5 M 121.88 25.92 L 117.52 21.5"
                        stroke-miterlimit="10"
                        pointer-events="all"
                        class="messageIcon"
                      />
                    </g>
                  </g>
                </g>
                <g>
                  <g class="messageIcon">
                    <g>
                      <path
                        d="M 101.56 18.38 L 107.81 18.38"
                        stroke-miterlimit="10"
                        pointer-events="stroke"
                        class="messageIcon"
                      />
                    </g>
                  </g>
                </g>
                <g>
                  <g class="messageIcon">
                    <g>
                      <path
                        d="M 102.5 19.63 L 107.81 19.63"
                        stroke-miterlimit="10"
                        pointer-events="stroke"
                        class="messageIcon"
                      />
                    </g>
                  </g>
                </g>
                <g>
                  <g class="messageIcon">
                    <g>
                      <path
                        d="M 103.44 20.88 L 107.81 20.88"
                        stroke-miterlimit="10"
                        pointer-events="stroke"
                        class="messageIcon"
                      />
                    </g>
                  </g>
                </g>
              </g>
              <g>
                <g>
                  <g>
                    <rect
                      x="130"
                      y="9"
                      width="132.36"
                      height="25"
                      fill="none"
                      stroke="none"
                      pointer-events="all"
                    />
                  </g>
                  <g>
                    <g transform="translate(-0.5 -0.5)">
                      <switch>
                        <foreignObject
                          style="overflow: visible; text-align: left"
                          pointer-events="none"
                          width="100%"
                          height="100%"
                          requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                        >
                          <div
                            xmlns="http://www.w3.org/1999/xhtml"
                            style="
                              display: flex;
                              align-items: unsafe flex-start;
                              justify-content: unsafe flex-start;
                              width: 130px;
                              height: 1px;
                              padding-top: 16px;
                              margin-left: 132px;
                            "
                          >
                            <div style="box-sizing: border-box; font-size: 0; text-align: left">
                              <div
                                style="
                                  display: inline-block;
                                  font-size: 12px;
                                  line-height: 1.2;
                                  pointer-events: all;
                                  white-space: normal;
                                  word-wrap: normal;
                                "
                              >
                                Message Broker
                              </div>
                            </div>
                          </div>
                        </foreignObject>
                        <text x="132" y="28" fill="light-dark(#000000, #ffffff)" font-size="12px">
                          Message Broker
                        </text>
                      </switch>
                    </g>
                  </g>
                </g>
              </g>
              <g>
                <g>
                  <g />
                </g>
                <g>
                  <g class="topic">
                    <g>
                      <path
                        d="M 170 64 C 170 61.24 174.48 59 180 59 C 182.65 59 185.2 59.53 187.07 60.46 C 188.95 61.4 190 62.67 190 64 L 190 134 C 190 136.76 185.52 139 180 139 C 174.48 139 170 136.76 170 134 Z"
                        stroke-miterlimit="10"
                        transform="rotate(90,180,99)"
                        pointer-events="all"
                        class="topic"
                      />
                      <path
                        d="M 190 64 C 190 66.76 185.52 69 180 69 C 174.48 69 170 66.76 170 64"
                        stroke-miterlimit="10"
                        transform="rotate(90,180,99)"
                        pointer-events="all"
                        class="topic"
                      />
                    </g>
                  </g>
                </g>
                <g>
                  <g class="topicTriangle">
                    <g>
                      <path
                        d="M 166 92.73 L 176 99 L 166 105.26 Z"
                        stroke-miterlimit="10"
                        pointer-events="all"
                        class="topicTriangle"
                      />
                    </g>
                  </g>
                </g>
                <g>
                  <g class="topicTriangle">
                    <g>
                      <path
                        d="M 150 92.73 L 160 99 L 150 105.26 Z"
                        stroke-miterlimit="10"
                        pointer-events="all"
                        class="topicTriangle"
                      />
                    </g>
                  </g>
                </g>
                <g>
                  <g class="blackArrow">
                    <g>
                      <path
                        d="M 176 96 L 181 92.74 L 184.32 92.74"
                        stroke-width="0.5"
                        stroke-miterlimit="10"
                        pointer-events="stroke"
                        class="blackArrow"
                      />
                      <path
                        d="M 185.44 92.74 L 183.94 93.49 L 184.32 92.74 L 183.94 91.99 Z"
                        stroke-width="0.5"
                        stroke-miterlimit="10"
                        pointer-events="all"
                        class="blackArrow"
                      />
                    </g>
                  </g>
                </g>
                <g>
                  <g class="blackArrow">
                    <g>
                      <path
                        d="M 176 102 L 181 105.26 L 184.32 105.26"
                        stroke-width="0.5"
                        stroke-miterlimit="10"
                        pointer-events="stroke"
                        class="blackArrow"
                      />
                      <path
                        d="M 185.44 105.26 L 183.94 106.01 L 184.32 105.26 L 183.94 104.51 Z"
                        stroke-width="0.5"
                        stroke-miterlimit="10"
                        pointer-events="all"
                        class="blackArrow"
                      />
                    </g>
                  </g>
                </g>
                <g>
                  <g class="blackArrow">
                    <g>
                      <path
                        d="M 177 98.95 L 185.32 98.95"
                        stroke-width="0.5"
                        stroke-miterlimit="10"
                        pointer-events="stroke"
                        class="blackArrow"
                      />
                      <path
                        d="M 186.44 98.95 L 184.94 99.7 L 185.32 98.95 L 184.94 98.2 Z"
                        stroke-width="0.5"
                        stroke-miterlimit="10"
                        pointer-events="all"
                        class="blackArrow"
                      />
                    </g>
                  </g>
                </g>
                <g>
                  <g class="topicTriangle">
                    <g>
                      <path
                        d="M 194 91.2 L 197 92.7 L 194 94.2 Z"
                        stroke-width="0.5"
                        stroke-miterlimit="10"
                        pointer-events="all"
                        class="topicTriangle"
                      />
                    </g>
                  </g>
                </g>
                <g>
                  <g class="topicTriangle">
                    <g>
                      <path
                        d="M 188 91.2 L 191 92.7 L 188 94.2 Z"
                        stroke-width="0.5"
                        stroke-miterlimit="10"
                        pointer-events="all"
                        class="topicTriangle"
                      />
                    </g>
                  </g>
                </g>
                <g>
                  <g class="topicTriangle">
                    <g>
                      <path
                        d="M 194 97.5 L 197 99 L 194 100.5 Z"
                        stroke-width="0.5"
                        stroke-miterlimit="10"
                        pointer-events="all"
                        class="topicTriangle"
                      />
                    </g>
                  </g>
                </g>
                <g>
                  <g class="topicTriangle">
                    <g>
                      <path
                        d="M 188 97.5 L 191 99 L 188 100.5 Z"
                        stroke-width="0.5"
                        stroke-miterlimit="10"
                        pointer-events="all"
                        class="topicTriangle"
                      />
                    </g>
                  </g>
                </g>
                <g>
                  <g class="topicTriangle">
                    <g>
                      <path
                        d="M 194 103.8 L 197 105.3 L 194 106.8 Z"
                        stroke-width="0.5"
                        stroke-miterlimit="10"
                        pointer-events="all"
                        class="topicTriangle"
                      />
                    </g>
                  </g>
                </g>
                <g>
                  <g class="topicTriangle">
                    <g>
                      <path
                        d="M 188 103.8 L 191 105.3 L 188 106.8 Z"
                        stroke-width="0.5"
                        stroke-miterlimit="10"
                        pointer-events="all"
                        class="topicTriangle"
                      />
                    </g>
                  </g>
                </g>
                <g>
                  <g class="topicTriangle">
                    <g>
                      <path
                        d="M 200 97.5 L 203 99 L 200 100.5 Z"
                        stroke-width="0.5"
                        stroke-miterlimit="10"
                        pointer-events="all"
                        class="topicTriangle"
                      />
                    </g>
                  </g>
                </g>
                <g>
                  <g class="topicTriangle">
                    <g>
                      <path
                        d="M 200 91.2 L 203 92.7 L 200 94.2 Z"
                        stroke-width="0.5"
                        stroke-miterlimit="10"
                        pointer-events="all"
                        class="topicTriangle"
                      />
                    </g>
                  </g>
                </g>
                <g>
                  <g class="topicTriangle">
                    <g>
                      <path
                        d="M 200 103.8 L 203 105.3 L 200 106.8 Z"
                        stroke-width="0.5"
                        stroke-miterlimit="10"
                        pointer-events="all"
                        class="topicTriangle"
                      />
                    </g>
                  </g>
                </g>
              </g>
            </g>
            <g>
              <g>
                <g />
              </g>
              <g>
                <g>
                  <g>
                    <svg viewBox="0 0 850 850" x="-0.5" y="61.5" width="77" height="77">
                      <g>
                        <path
                          d="M 230 280 l 157.18 72.352 c 20.668 9.5156 54.496 9.5156 75.145 0 l 132.64 -61.055 l 217.53 -103.74 c -4.5742 -3.4336 -9.25 -6.5156 -14.191 -8.7734 l -317.09 -146.01 c -30.992 -14.277 -81.746 -14.277 -112.76 0 l -317.19 146.01 c -5.0703 2.3164 -9.8672 5.5234 -14.543 9.0625 z"
                          class="top"
                        />
                        <path
                          d="m 423.34 420.96 c 0 -22.801 -16.902 -49.16 -37.574 -58.695 l -239.42 -110.15 c -0.207 -0.082 -0.3711 -0.25 -0.5781 -0.3516 l -108.25 -49.883 v 372.25 c 0 34.137 25.387 73.738 56.398 88.035 l 317.19 146.03 c 2.8125 1.3047 5.957 2.3398 9.0625 3.3945 l 3.1445 -193.8 l 0.0039 -196.82 z"
                          class="left"
                        />
                        <path
                          d="m 708.59 250.96 c -0.4336 0.2266 -0.8086 0.5391 -1.2812 0.7656 l -239.46 110.21 c -20.691 9.4961 -37.574 35.918 -37.574 58.676 v 162.12 l 0.4766 -0.0195 l -0.7461 229.8 c 4.4688 -1.3438 8.7109 -2.9375 12.621 -4.7383 l 317.17 -146.03 c 30.992 -14.277 56.398 -53.875 56.398 -88.035 l -0.0625 -372.39 z"
                          class="right"
                        />
                      </g>
                    </svg>
                  </g>
                </g>
              </g>
              <g>
                <g>
                  <g>
                    <rect
                      x="8.5"
                      y="136"
                      width="60"
                      height="30"
                      fill="none"
                      stroke="none"
                      pointer-events="all"
                    />
                  </g>
                  <g>
                    <g transform="translate(-0.5 -0.5)">
                      <switch>
                        <foreignObject
                          style="overflow: visible; text-align: left"
                          pointer-events="none"
                          width="100%"
                          height="100%"
                          requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                        >
                          <div
                            xmlns="http://www.w3.org/1999/xhtml"
                            style="
                              display: flex;
                              align-items: unsafe center;
                              justify-content: unsafe center;
                              width: 58px;
                              height: 1px;
                              padding-top: 151px;
                              margin-left: 10px;
                            "
                          >
                            <div style="box-sizing: border-box; font-size: 0; text-align: center">
                              <div
                                style="
                                  display: inline-block;
                                  font-size: 12px;
                                  line-height: 1.2;
                                  pointer-events: all;
                                  white-space: normal;
                                  word-wrap: normal;
                                "
                              >
                                System A
                              </div>
                            </div>
                          </div>
                        </foreignObject>
                        <text
                          x="39"
                          y="155"
                          fill="light-dark(#000000, #ffffff)"
                          font-size="12px"
                          text-anchor="middle"
                        >
                          System A
                        </text>
                      </switch>
                    </g>
                  </g>
                </g>
              </g>
            </g>
            <g>
              <g class="arrow">
                <g>
                  <path
                    d="M 75.46 99.04 L 133.63 99"
                    stroke-miterlimit="10"
                    pointer-events="stroke"
                    class="arrow"
                  />
                  <path
                    d="M 138.88 99 L 131.88 102.5 L 133.63 99 L 131.88 95.5 Z"
                    stroke-miterlimit="10"
                    pointer-events="all"
                    class="arrow"
                  />
                </g>
              </g>
            </g>
            <g>
              <g class="arrow">
                <g>
                  <path
                    d="M 220 99 L 225 99 Q 230 99 235 99 L 237.5 99 Q 240 99 240 89 L 240 49 Q 240 39 250 38.88 L 273.63 38.58"
                    stroke-miterlimit="10"
                    pointer-events="stroke"
                    class="arrow"
                  />
                  <path
                    d="M 278.88 38.51 L 271.93 42.1 L 273.63 38.58 L 271.84 35.1 Z"
                    stroke-miterlimit="10"
                    pointer-events="all"
                    class="arrow"
                  />
                </g>
              </g>
            </g>
            <g>
              <g>
                <g />
              </g>
              <g>
                <g>
                  <g>
                    <svg viewBox="0 0 850 850" x="279.5" y="119.5" width="77" height="77">
                      <g>
                        <path
                          d="M 230 280 l 157.18 72.352 c 20.668 9.5156 54.496 9.5156 75.145 0 l 132.64 -61.055 l 217.53 -103.74 c -4.5742 -3.4336 -9.25 -6.5156 -14.191 -8.7734 l -317.09 -146.01 c -30.992 -14.277 -81.746 -14.277 -112.76 0 l -317.19 146.01 c -5.0703 2.3164 -9.8672 5.5234 -14.543 9.0625 z"
                          class="top"
                        />
                        <path
                          d="m 423.34 420.96 c 0 -22.801 -16.902 -49.16 -37.574 -58.695 l -239.42 -110.15 c -0.207 -0.082 -0.3711 -0.25 -0.5781 -0.3516 l -108.25 -49.883 v 372.25 c 0 34.137 25.387 73.738 56.398 88.035 l 317.19 146.03 c 2.8125 1.3047 5.957 2.3398 9.0625 3.3945 l 3.1445 -193.8 l 0.0039 -196.82 z"
                          class="left"
                        />
                        <path
                          d="m 708.59 250.96 c -0.4336 0.2266 -0.8086 0.5391 -1.2812 0.7656 l -239.46 110.21 c -20.691 9.4961 -37.574 35.918 -37.574 58.676 v 162.12 l 0.4766 -0.0195 l -0.7461 229.8 c 4.4688 -1.3438 8.7109 -2.9375 12.621 -4.7383 l 317.17 -146.03 c 30.992 -14.277 56.398 -53.875 56.398 -88.035 l -0.0625 -372.39 z"
                          class="right"
                        />
                      </g>
                    </svg>
                  </g>
                </g>
              </g>
              <g>
                <g>
                  <g>
                    <rect
                      x="288.5"
                      y="194"
                      width="60"
                      height="30"
                      fill="none"
                      stroke="none"
                      pointer-events="all"
                    />
                  </g>
                  <g>
                    <g transform="translate(-0.5 -0.5)">
                      <switch>
                        <foreignObject
                          style="overflow: visible; text-align: left"
                          pointer-events="none"
                          width="100%"
                          height="100%"
                          requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                        >
                          <div
                            xmlns="http://www.w3.org/1999/xhtml"
                            style="
                              display: flex;
                              align-items: unsafe center;
                              justify-content: unsafe center;
                              width: 58px;
                              height: 1px;
                              padding-top: 209px;
                              margin-left: 290px;
                            "
                          >
                            <div style="box-sizing: border-box; font-size: 0; text-align: center">
                              <div
                                style="
                                  display: inline-block;
                                  font-size: 12px;
                                  line-height: 1.2;
                                  pointer-events: all;
                                  white-space: normal;
                                  word-wrap: normal;
                                "
                              >
                                System C
                              </div>
                            </div>
                          </div>
                        </foreignObject>
                        <text
                          x="319"
                          y="213"
                          fill="light-dark(#000000, #ffffff)"
                          font-size="12px"
                          text-anchor="middle"
                        >
                          System C
                        </text>
                      </switch>
                    </g>
                  </g>
                </g>
              </g>
            </g>
            <g>
              <g>
                <g />
              </g>
              <g>
                <g>
                  <g>
                    <svg viewBox="0 0 850 850" x="279.5" y="-0.5" width="77" height="77">
                      <g>
                        <path
                          d="M 230 280 l 157.18 72.352 c 20.668 9.5156 54.496 9.5156 75.145 0 l 132.64 -61.055 l 217.53 -103.74 c -4.5742 -3.4336 -9.25 -6.5156 -14.191 -8.7734 l -317.09 -146.01 c -30.992 -14.277 -81.746 -14.277 -112.76 0 l -317.19 146.01 c -5.0703 2.3164 -9.8672 5.5234 -14.543 9.0625 z"
                          class="top"
                        />
                        <path
                          d="m 423.34 420.96 c 0 -22.801 -16.902 -49.16 -37.574 -58.695 l -239.42 -110.15 c -0.207 -0.082 -0.3711 -0.25 -0.5781 -0.3516 l -108.25 -49.883 v 372.25 c 0 34.137 25.387 73.738 56.398 88.035 l 317.19 146.03 c 2.8125 1.3047 5.957 2.3398 9.0625 3.3945 l 3.1445 -193.8 l 0.0039 -196.82 z"
                          class="left"
                        />
                        <path
                          d="m 708.59 250.96 c -0.4336 0.2266 -0.8086 0.5391 -1.2812 0.7656 l -239.46 110.21 c -20.691 9.4961 -37.574 35.918 -37.574 58.676 v 162.12 l 0.4766 -0.0195 l -0.7461 229.8 c 4.4688 -1.3438 8.7109 -2.9375 12.621 -4.7383 l 317.17 -146.03 c 30.992 -14.277 56.398 -53.875 56.398 -88.035 l -0.0625 -372.39 z"
                          class="right"
                        />
                      </g>
                    </svg>
                  </g>
                </g>
              </g>
              <g>
                <g>
                  <g>
                    <rect
                      x="288.5"
                      y="74"
                      width="60"
                      height="30"
                      fill="none"
                      stroke="none"
                      pointer-events="all"
                    />
                  </g>
                  <g>
                    <g transform="translate(-0.5 -0.5)">
                      <switch>
                        <foreignObject
                          style="overflow: visible; text-align: left"
                          pointer-events="none"
                          width="100%"
                          height="100%"
                          requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"
                        >
                          <div
                            xmlns="http://www.w3.org/1999/xhtml"
                            style="
                              display: flex;
                              align-items: unsafe center;
                              justify-content: unsafe center;
                              width: 58px;
                              height: 1px;
                              padding-top: 89px;
                              margin-left: 290px;
                            "
                          >
                            <div style="box-sizing: border-box; font-size: 0; text-align: center">
                              <div
                                style="
                                  display: inline-block;
                                  font-size: 12px;
                                  line-height: 1.2;
                                  pointer-events: all;
                                  white-space: normal;
                                  word-wrap: normal;
                                "
                              >
                                System B
                              </div>
                            </div>
                          </div>
                        </foreignObject>
                        <text
                          x="319"
                          y="93"
                          fill="light-dark(#000000, #ffffff)"
                          font-size="12px"
                          text-anchor="middle"
                        >
                          System B
                        </text>
                      </switch>
                    </g>
                  </g>
                </g>
              </g>
            </g>
            <g>
              <g class="arrow">
                <g>
                  <path
                    d="M 220 99 L 225 99 Q 230 99 235 99 L 237.5 99 Q 240 99 240 109 L 240 149 Q 240 159 250 158.88 L 273.63 158.58"
                    stroke-miterlimit="10"
                    pointer-events="stroke"
                    class="arrow"
                  />
                  <path
                    d="M 278.88 158.51 L 271.93 162.1 L 273.63 158.58 L 271.84 155.1 Z"
                    stroke-miterlimit="10"
                    pointer-events="all"
                    class="arrow"
                  />
                </g>
              </g>
            </g>
          </g>
        </g>
      </g>
    </svg>
  </div>
</template>

<script setup lang="ts"></script>

<style scoped lang="scss">
.syncSvgParent {
  --color: var(--tw-color-black);

  --topicFillColor: var(--tw-color-gray-300);
  --topicTriangleFillColor: var(--tw-color-gray-100);
  --topicPathColor: var(--tw-color-black);

  --messageBrokerBackground: var(--tw-color-gray-500);
  --messageBrokerLogoStroke: var(--tw-color-gray-100);

  --messageBrokerBorder: var(--tw-color-gray-900);

  --themeTop: var(--tw-color-gray-500);
  --themeLeft: var(--tw-color-gray-600);
  --themeRight: var(--tw-color-gray-800);

  .dark > * & {
    --color: var(--tw-color-white);

    --topicFillColor: var(--tw-color-gray-200);
    --topicTriangleFillColor: var(--tw-color-gray-100);
    --topicPathColor: var(--tw-color-gray-400);

    --messageBrokerBackground: var(--tw-color-gray-100);
    --messageBrokerLogoStroke: var(--tw-color-gray-700);

    --messageBrokerBorder: var(--tw-color-gray-100);

    --themeTop: var(--tw-color-gray-50);
    --themeLeft: var(--tw-color-gray-200);
    --themeRight: var(--tw-color-gray-400);
  }
}

.blackArrow {
  transition: var(--diagramColorTransition);
  stroke: var(--tw-color-black);
  fill: none;
}

.arrow {
  transition: var(--diagramColorTransition);
  stroke: var(--color);
  fill: none;
}

g > .arrow:nth-child(2) {
  fill: var(--color);
}

.messageIcon {
  stroke: var(--messageBrokerLogoStroke);
  fill: transparent;
}

.topic {
  transition: var(--diagramColorTransition);
  fill: var(--topicFillColor);
  stroke: var(--tw-color-black);
}

.topicTriangle {
  transition: var(--diagramColorTransition);
  fill: var(--topicTriangleFillColor);
  stroke: var(--tw-color-black);
}

.messageBrokerBackground {
  transition: var(--diagramColorTransition);
  stroke: var(--messageBrokerBackground);
  fill: var(--messageBrokerBackground);
}

.messageBrokerBorder {
  transition: var(--diagramColorTransition);
  stroke: var(--messageBrokerBackground);
  fill: none;
}

.top {
  transition: var(--diagramColorTransition);
  fill: var(--themeTop);
  stroke: black;
  stroke-width: 2;
}

.left {
  transition: var(--diagramColorTransition);
  fill: var(--themeLeft);
  stroke: black;
  stroke-width: 2;
}

.right {
  transition: var(--diagramColorTransition);
  fill: var(--themeRight);
  stroke: black;
  stroke-width: 2;
}
</style>
